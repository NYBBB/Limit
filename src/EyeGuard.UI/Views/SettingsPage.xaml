<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="EyeGuard.UI.Views.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="Transparent">

    <ScrollViewer Padding="32" HorizontalScrollMode="Disabled" HorizontalScrollBarVisibility="Disabled">
        <StackPanel Spacing="24" MaxWidth="1200" HorizontalAlignment="Center">
            
            <TextBlock Text="设置" FontSize="28" FontWeight="SemiBold"/>
            
            <!-- 常规设置 -->
            <StackPanel Spacing="16">
                
                <!-- 系统托盘 -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <StackPanel>
                        <TextBlock Text="显示系统托盘图标"/>
                        <TextBlock Text="允许从托盘快速访问 Limit" 
                                   FontSize="12"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                    <ToggleSwitch x:Name="TrayIconToggle" 
                                  Grid.Column="1" 
                                  IsOn="True"
                                  OnContent="" OffContent=""/>
                </Grid>

                <!-- 开机自启 -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <StackPanel>
                        <TextBlock Text="开机自动启动"/>
                        <TextBlock Text="登录 Windows 后自动运行 Limit" 
                                   FontSize="12"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                    <ToggleSwitch x:Name="AutoStartToggle" 
                                  Grid.Column="1" 
                                  IsOn="False"
                                  OnContent="" OffContent=""/>
                </Grid>

            </StackPanel>


            <Rectangle Height="1" 
                       Fill="{ThemeResource DividerStrokeColorDefaultBrush}"/>

            <!-- 数据持久化设置 -->
            <TextBlock Text="数据持久化" FontSize="20" FontWeight="SemiBold"/>
            
            <StackPanel Spacing="20">
                <!-- 疲劳快照保存间隔 -->
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel>
                        <TextBlock Text="疲劳快照保存间隔"/>
                        <TextBlock Text="后台保存疲劳值的频率，用于断点恢复" 
                                   FontSize="12"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                    <TextBlock x:Name="SnapshotIntervalText" 
                               Grid.Column="1" 
                               Text="60秒" 
                               VerticalAlignment="Center"
                               FontWeight="SemiBold"/>
                    
                    <Slider x:Name="SnapshotIntervalSlider"
                            Grid.Row="1" Grid.ColumnSpan="2"
                            Minimum="30" Maximum="180" Value="60"
                            TickFrequency="30" TickPlacement="BottomRight"
                            ValueChanged="SnapshotIntervalSlider_ValueChanged"
                            Margin="0,8,0,0"/>
                </Grid>

                <!-- 图表绘制间隔 -->
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel>
                        <TextBlock Text="疲劳趋势图表精度"/>
                        <TextBlock Text="控制趋势图数据点密度，值越小图表越精细" 
                                   FontSize="12"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                    <TextBlock x:Name="ChartIntervalText" 
                               Grid.Column="1" 
                               Text="5分钟" 
                               VerticalAlignment="Center"
                               FontWeight="SemiBold"/>
                    
                    <Slider x:Name="ChartIntervalSlider"
                            Grid.Row="1" Grid.ColumnSpan="2"
                            Minimum="1" Maximum="15" Value="5"
                            TickFrequency="1" TickPlacement="BottomRight"
                            ValueChanged="ChartIntervalSlider_ValueChanged"
                            Margin="0,8,0,0"/>
                </Grid>

                <!-- Dashboard 刷新间隔 -->
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel>
                        <TextBlock Text="Dashboard 数据刷新间隔"/>
                        <TextBlock Text="应用使用列表的更新频率" 
                                   FontSize="12"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                    <TextBlock x:Name="RefreshIntervalText" 
                               Grid.Column="1" 
                               Text="60秒" 
                               VerticalAlignment="Center"
                               FontWeight="SemiBold"/>
                    
                    <Slider x:Name="RefreshIntervalSlider"
                            Grid.Row="1" Grid.ColumnSpan="2"
                            Minimum="30" Maximum="120" Value="60"
                            TickFrequency="15" TickPlacement="BottomRight"
                            ValueChanged="RefreshIntervalSlider_ValueChanged"
                            Margin="0,8,0,0"/>
                </Grid>
                
                <!-- 保存按钮 -->
                <StackPanel Orientation="Horizontal" Spacing="12" HorizontalAlignment="Right">
                    <Button x:Name="SavePersistenceButton" 
                            Content="保存设置" 
                            Style="{StaticResource AccentButtonStyle}" 
                            Click="SavePersistenceButton_Click" 
                            MinWidth="120"/>
                    <TextBlock x:Name="SaveStatusText" 
                               Text="" 
                               VerticalAlignment="Center" 
                               Foreground="Green"/>
                </StackPanel>
            </StackPanel>

            <Rectangle Height="1" 
                       Fill="{ThemeResource DividerStrokeColorDefaultBrush}"/>

            <!-- 快捷键设置 -->
            <TextBlock Text="快捷键" FontSize="20" FontWeight="SemiBold"/>
            
            <StackPanel Spacing="12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="手动开始一次休息" VerticalAlignment="Center"/>
                    <Button Content="设置快捷键" Grid.Column="1"/>
                </Grid>
                
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="显示主窗口" VerticalAlignment="Center"/>
                    <Button Content="设置快捷键" Grid.Column="1"/>
                </Grid>
            </StackPanel>

            <Rectangle Height="1" 
                       Fill="{ThemeResource DividerStrokeColorDefaultBrush}"/>

            <!-- 关于 -->
            <TextBlock Text="关于" FontSize="20" FontWeight="SemiBold"/>
            
            <StackPanel Spacing="8">
                <TextBlock>
                    <Run Text="EyeGuard"/>
                    <Run Text=" v0.1.0" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                </TextBlock>
                <TextBlock Text="一款 Windows 护眼与生产力工具" 
                           FontSize="12"
                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                
                <HyperlinkButton Content="在 GitHub 上查看源代码" 
                                 Margin="0,8,0,0"/>
            </StackPanel>

        </StackPanel>
    </ScrollViewer>
</Page>
