<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="EyeGuard.UI.Views.RulesPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:EyeGuard.UI.Controls"
    Background="Transparent">

    <ScrollViewer Padding="32">
        <StackPanel Spacing="24" MaxWidth="700">
            
            <TextBlock Text="åå¥½è®¾ç½®" FontSize="28" FontWeight="SemiBold"/>

            <!-- ========== æ™ºèƒ½æ¨¡å¼è®¾ç½® ========== -->
            <StackPanel Spacing="16">
                
                <TextBlock Text="ç–²åŠ³åº¦è®¾ç½®" FontSize="20" FontWeight="SemiBold"/>
                
                <!-- ç–²åŠ³é˜ˆå€¼è®¾ç½® -->
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1" CornerRadius="8" Padding="20">
                    <StackPanel Spacing="16">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="ä¼‘æ¯æé†’é˜ˆå€¼" FontSize="16" FontWeight="SemiBold"/>
                            <FontIcon Glyph="&#xE946;" FontSize="12" 
                                      Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                      VerticalAlignment="Center"
                                      ToolTipService.ToolTip="å½“ç–²åŠ³åº¦è¾¾åˆ°æ­¤å€¼æ—¶ï¼Œç³»ç»Ÿä¼šå¼¹å‡ºä¼‘æ¯æé†’ã€‚ç–²åŠ³åº¦åŸºäºŽè¿žç»­å·¥ä½œæ—¶é—´åŠ¨æ€è®¡ç®—ã€‚"/>
                        </StackPanel>
                        
                        <Grid ColumnSpacing="16" RowSpacing="12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="50"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Text="è½»åº¦æé†’:" VerticalAlignment="Center"/>
                            <Slider x:Name="SoftReminderSlider" Grid.Column="1"
                                    Minimum="20" Maximum="80" Value="40"
                                    TickFrequency="10" TickPlacement="Outside"/>
                            <TextBlock x:Name="SoftReminderText" Grid.Column="2" Text="40%" VerticalAlignment="Center"/>
                            
                            <TextBlock Grid.Row="1" Text="å¼ºåˆ¶ä¼‘æ¯:" VerticalAlignment="Center"/>
                            <Slider x:Name="ForceBreakSlider" Grid.Row="1" Grid.Column="1"
                                    Minimum="50" Maximum="100" Value="80"
                                    TickFrequency="10" TickPlacement="Outside"/>
                            <TextBlock x:Name="ForceBreakText" Grid.Row="1" Grid.Column="2" Text="80%" VerticalAlignment="Center"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <TextBlock Text="æ£€æµ‹æ–¹å¼" FontSize="20" FontWeight="SemiBold"/>

                <!-- æ£€æµ‹é€‰é¡¹åˆ—è¡¨ -->
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1" CornerRadius="8" Padding="20">
                    <StackPanel Spacing="16">
                        
                        <!-- é¼ æ ‡æ£€æµ‹ -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="é¼ æ ‡/è§¦æ‘¸æ¿æ´»åŠ¨" VerticalAlignment="Center"/>
                                <FontIcon Glyph="&#xE946;" FontSize="12" 
                                          Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                          VerticalAlignment="Center"
                                          ToolTipService.ToolTip="æ£€æµ‹é¼ æ ‡ç‚¹å‡»å’Œæ»šè½®æ“ä½œï¼ˆä¸åŒ…æ‹¬ç§»åŠ¨ï¼Œé¿å…è¯¯åˆ¤ï¼‰ã€‚æ­¤ä¸ºæ ¸å¿ƒæ£€æµ‹æ–¹å¼ï¼Œå§‹ç»ˆå¯ç”¨ã€‚"/>
                            </StackPanel>
                            <FontIcon Grid.Column="1" Glyph="&#xE73E;" Foreground="#8A2BE2"/>
                        </Grid>
                        
                        <Rectangle Height="1" Fill="{ThemeResource DividerStrokeColorDefaultBrush}"/>
                        
                        <!-- é”®ç›˜æ£€æµ‹ -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="é”®ç›˜æ´»åŠ¨" VerticalAlignment="Center"/>
                                <FontIcon Glyph="&#xE946;" FontSize="12" 
                                          Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                          VerticalAlignment="Center"
                                          ToolTipService.ToolTip="æ£€æµ‹é”®ç›˜æŒ‰é”®ã€‚Limit åªè®°å½•æ˜¯å¦æœ‰æŒ‰é”®ï¼Œä¸è®°å½•å…·ä½“å†…å®¹ï¼Œä¿æŠ¤æ‚¨çš„éšç§ã€‚"/>
                            </StackPanel>
                            <ToggleSwitch x:Name="KeyboardToggle" Grid.Column="1" IsOn="True" OnContent="" OffContent=""/>
                        </Grid>
                        
                        <Rectangle Height="1" Fill="{ThemeResource DividerStrokeColorDefaultBrush}"/>
                        
                        <!-- éŸ³é¢‘æ£€æµ‹ -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="éŸ³é¢‘æ’­æ”¾æ£€æµ‹" VerticalAlignment="Center"/>
                                <FontIcon Glyph="&#xE946;" FontSize="12" 
                                          Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                          VerticalAlignment="Center"
                                          ToolTipService.ToolTip="æ£€æµ‹ç³»ç»Ÿæ˜¯å¦æœ‰éŸ³é¢‘è¾“å‡ºï¼ˆçœ‹è§†é¢‘/å¬éŸ³ä¹ï¼‰ã€‚æœ‰éŸ³é¢‘æ—¶ä¼šè¿›å…¥ã€Œåª’ä½“æ¨¡å¼ã€ï¼Œç©ºé—²åˆ¤å®šé˜ˆå€¼å»¶é•¿è‡³2åˆ†é’Ÿã€‚"/>
                            </StackPanel>
                            <ToggleSwitch x:Name="AudioToggle" Grid.Column="1" IsOn="True" OnContent="" OffContent=""/>
                        </Grid>
                        
                        <Rectangle Height="1" Fill="{ThemeResource DividerStrokeColorDefaultBrush}"/>
                        
                        <!-- ç©ºé—²é˜ˆå€¼ -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="ç©ºé—²åˆ¤å®šæ—¶é—´" VerticalAlignment="Center"/>
                                <FontIcon Glyph="&#xE946;" FontSize="12" 
                                          Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                          VerticalAlignment="Center"
                                          ToolTipService.ToolTip="æ— é”®é¼ æ´»åŠ¨è¶…è¿‡æ­¤æ—¶é—´åŽï¼Œåˆ¤å®šä¸ºç”¨æˆ·ç©ºé—²ï¼Œç–²åŠ³å€¼å¼€å§‹æ¢å¤ã€‚"/>
                            </StackPanel>
                            <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8">
                                <NumberBox x:Name="IdleThresholdBox" Value="60" Minimum="30" Maximum="300"
                                           SpinButtonPlacementMode="Compact" Width="100"/>
                                <TextBlock Text="ç§’" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>
                
                <!-- Phase 4.2: Care Mode æ•æ„Ÿåº¦ -->
                <TextBlock Text="ç–²åŠ³æ•æ„Ÿåº¦" FontSize="20" FontWeight="SemiBold"/>
                
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1" CornerRadius="8" Padding="20">
                    <StackPanel Spacing="16">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="Care Mode æ•æ„Ÿåº¦" FontSize="16" FontWeight="SemiBold"/>
                            <FontIcon Glyph="&#xE946;" FontSize="12" 
                                      Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                      VerticalAlignment="Center"
                                      ToolTipService.ToolTip="è°ƒèŠ‚ç–²åŠ³å¢žé•¿é€ŸçŽ‡ã€‚æ›´é«˜çš„æ•æ„Ÿåº¦æ„å‘³ç€ç–²åŠ³æ›´å¿«ç´¯ç§¯ï¼Œé€‚åˆå®¹æ˜“ç–²åŠ³çš„ç”¨æˆ·ã€‚"/>
                        </StackPanel>
                        
                        <Grid ColumnSpacing="16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="80"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Text="ä½Ž" VerticalAlignment="Center" HorizontalAlignment="Right"
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                            <Slider x:Name="SensitivitySlider" Grid.Column="1"
                                    Minimum="0" Maximum="100" Value="50"
                                    TickFrequency="25" TickPlacement="Outside"/>
                            <TextBlock Text="é«˜" Grid.Column="2" VerticalAlignment="Center"
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </Grid>
                        
                        <Border Background="{ThemeResource LayerFillColorDefaultBrush}" 
                                CornerRadius="6" Padding="12">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="&#xE946;" FontSize="14" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                <TextBlock x:Name="SensitivityDescription"
                                           Text="å½“å‰è®¾ç½®ï¼šä¸­ç­‰æ•æ„Ÿåº¦ã€‚ç–²åŠ³å¢žé•¿é€ŸçŽ‡ä¸ºæ ‡å‡†å€¼ã€‚"
                                           FontSize="12" TextWrapping="Wrap"
                                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Border>
                
                <!-- Phase 4.2: å¹²é¢„ç­–ç•¥ -->
                <TextBlock Text="å¹²é¢„ç­–ç•¥" FontSize="20" FontWeight="SemiBold"/>
                
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1" CornerRadius="8" Padding="20">
                    <StackPanel Spacing="16">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="ä¼‘æ¯æé†’å¼ºåº¦" FontSize="16" FontWeight="SemiBold"/>
                            <FontIcon Glyph="&#xE946;" FontSize="12" 
                                      Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                      VerticalAlignment="Center"
                                      ToolTipService.ToolTip="é€‰æ‹©ç³»ç»Ÿå¦‚ä½•æé†’æ‚¨ä¼‘æ¯ã€‚ç¤¼è²Œæ¨¡å¼å¯ä»¥è½»æ¾è·³è¿‡ï¼Œå¼ºåˆ¶æ¨¡å¼éœ€è¦æ›´å¤šæ“ä½œæ‰èƒ½ç»§ç»­å·¥ä½œã€‚"/>
                        </StackPanel>
                        
                        <RadioButtons x:Name="InterventionModeRadio">
                            <RadioButton>
                                <StackPanel Spacing="4">
                                    <TextBlock Text="ðŸ˜Š ç¤¼è²Œæ¨¡å¼" FontWeight="SemiBold"/>
                                    <TextBlock Text="Toast é€šçŸ¥ + å¯å¿«é€Ÿè·³è¿‡çš„å¼¹çª—" FontSize="12"
                                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                </StackPanel>
                            </RadioButton>
                            <RadioButton IsChecked="True">
                                <StackPanel Spacing="4">
                                    <TextBlock Text="âš–ï¸ å¹³è¡¡æ¨¡å¼" FontWeight="SemiBold"/>
                                    <TextBlock Text="å…¨å±å¼¹çª— + éœ€è¦ç‚¹å‡»æŒ‰é’®è·³è¿‡" FontSize="12"
                                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                </StackPanel>
                            </RadioButton>
                            <RadioButton>
                                <StackPanel Spacing="4">
                                    <TextBlock Text="ðŸ’ª å¼ºåˆ¶æ¨¡å¼" FontWeight="SemiBold"/>
                                    <TextBlock Text="å…¨å±å¼¹çª— + é•¿æŒ‰ 3 ç§’æ‰èƒ½è·³è¿‡" FontSize="12"
                                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                                </StackPanel>
                            </RadioButton>
                        </RadioButtons>
                    </StackPanel>
                </Border>
            </StackPanel>
            
            <!-- Phase 4: Cluster ç¼–è¾‘å™¨ -->
            <TextBlock Text="åº”ç”¨åˆ†ç±»" FontSize="20" FontWeight="SemiBold"/>
            
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1" CornerRadius="8" Padding="20" MinHeight="400">
                <StackPanel Spacing="12">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE8F1;" FontSize="18"/>
                            <TextBlock Text="å·¥ä½œæµåˆ†ç±»" FontSize="16" FontWeight="SemiBold"/>
                            <FontIcon Glyph="&#xE946;" FontSize="12" 
                                      Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                      VerticalAlignment="Center"
                                      ToolTipService.ToolTip="å°†åº”ç”¨æ‹–æ”¾åˆ°ä¸åŒçš„å·¥ä½œæµåˆ†ç±»ä¸­ï¼Œç³»ç»Ÿä¼šæ ¹æ®åˆ†ç±»è‡ªåŠ¨åˆ¤æ–­æ‚¨çš„å·¥ä½œçŠ¶æ€ã€‚"/>
                        </StackPanel>
                        <Button Grid.Column="1" 
                                Content="æ¢å¤é»˜è®¤" 
                                Click="ResetClusters_Click"
                                ToolTipService.ToolTip="é‡ç½®æ‰€æœ‰åˆ†ç±»ä¸ºé»˜è®¤è®¾ç½®"/>
                    </Grid>
                    <TextBlock Text="æ‹–æ”¾åº”ç”¨åˆ°ä¸åŒåˆ†ç±»ï¼Œç³»ç»Ÿä¼šæ ¹æ®åˆ†ç±»è‡ªåŠ¨åˆ¤æ–­æ‚¨çš„å·¥ä½œçŠ¶æ€" 
                               FontSize="12" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    <controls:ClusterEditorControl x:Name="ClusterEditor" MinHeight="350"/>
                </StackPanel>
            </Border>

            <!-- æé†’è®¾ç½®ï¼ˆä¸¤ä¸ªæ¨¡å¼å…±ç”¨ï¼‰ -->
            <TextBlock Text="æé†’è®¾ç½®" FontSize="20" FontWeight="SemiBold"/>
            
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1" CornerRadius="8" Padding="20">
                <StackPanel Spacing="16">
                    <!-- å¼€å¯æé†’ -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="å¼€å¯ä¼‘æ¯æé†’" VerticalAlignment="Center"/>
                        <ToggleSwitch x:Name="EnableRemindersToggle" Grid.Column="1" IsOn="True" OnContent="" OffContent=""/>
                    </Grid>
                    
                    <Rectangle Height="1" Fill="{ThemeResource DividerStrokeColorDefaultBrush}"/>
                    
                    <!-- æé†’æ–¹å¼ -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="æé†’æ–¹å¼" VerticalAlignment="Center"/>
                            <FontIcon Glyph="&#xE946;" FontSize="12" 
                                      Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                      VerticalAlignment="Center"
                                      ToolTipService.ToolTip="å…¨å±å¼¹çª—ä¼šè¦†ç›–æ•´ä¸ªå±å¹•ï¼ˆå¯é€šè¿‡æŒ‰é’®è·³è¿‡ï¼‰ï¼›é€šçŸ¥æ¨ªå¹…åªåœ¨è§’è½æ˜¾ç¤ºæç¤ºï¼Œä¸ä¼šæ‰“æ–­å·¥ä½œã€‚"/>
                        </StackPanel>
                        <ComboBox x:Name="ReminderTypeCombo" Grid.Column="1" Width="140" SelectedIndex="0">
                            <ComboBoxItem Content="å…¨å±å¼¹çª—"/>
                            <ComboBoxItem Content="é€šçŸ¥æ¨ªå¹…"/>
                        </ComboBox>
                    </Grid>
                </StackPanel>
            </Border>
            
            <!-- ========== é«˜çº§è®¾ç½® ========== -->
            <TextBlock Text="é«˜çº§è®¾ç½®" FontSize="20" FontWeight="SemiBold"/>
            
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1" CornerRadius="8" Padding="20">
                <StackPanel Spacing="16">
                    <!-- ç³»ç»Ÿæ‰˜ç›˜ -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="æ˜¾ç¤ºç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡"/>
                            <TextBlock Text="å…è®¸ä»Žæ‰˜ç›˜å¿«é€Ÿè®¿é—® Limit" 
                                       FontSize="12"
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>
                        <ToggleSwitch x:Name="TrayIconToggle" 
                                      Grid.Column="1" 
                                      IsOn="True"
                                      OnContent="" OffContent=""/>
                    </Grid>
                    
                    <Rectangle Height="1" Fill="{ThemeResource DividerStrokeColorDefaultBrush}"/>

                    <!-- å¼€æœºè‡ªå¯ -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="å¼€æœºè‡ªåŠ¨å¯åŠ¨"/>
                            <TextBlock Text="ç™»å½• Windows åŽè‡ªåŠ¨è¿è¡Œ Limit" 
                                       FontSize="12"
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>
                        <ToggleSwitch x:Name="AutoStartToggle" 
                                      Grid.Column="1" 
                                      IsOn="False"
                                      OnContent="" OffContent=""/>
                    </Grid>
                    
                    <Rectangle Height="1" Fill="{ThemeResource DividerStrokeColorDefaultBrush}"/>
                    
                    <!-- ç–²åŠ³å¿«ç…§ä¿å­˜é—´éš” -->
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel>
                            <TextBlock Text="ç–²åŠ³å¿«ç…§ä¿å­˜é—´éš”"/>
                            <TextBlock Text="åŽå°ä¿å­˜ç–²åŠ³å€¼çš„é¢‘çŽ‡ï¼Œç”¨äºŽæ–­ç‚¹æ¢å¤" 
                                       FontSize="12"
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>
                        <TextBlock x:Name="SnapshotIntervalText" 
                                   Grid.Column="1" 
                                   Text="60ç§’" 
                                   VerticalAlignment="Center"
                                   FontWeight="SemiBold"/>
                        
                        <Slider x:Name="SnapshotIntervalSlider"
                                Grid.Row="1" Grid.ColumnSpan="2"
                                Minimum="30" Maximum="180" Value="60"
                                TickFrequency="30" TickPlacement="BottomRight"
                                ValueChanged="SnapshotIntervalSlider_ValueChanged"
                                Margin="0,8,0,0"/>
                    </Grid>
                    
                    <Rectangle Height="1" Fill="{ThemeResource DividerStrokeColorDefaultBrush}"/>
                    
                    <!-- å›¾è¡¨ç»˜åˆ¶é—´éš” -->
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel>
                            <TextBlock Text="ç–²åŠ³è¶‹åŠ¿å›¾è¡¨ç²¾åº¦"/>
                            <TextBlock Text="æŽ§åˆ¶è¶‹åŠ¿å›¾æ•°æ®ç‚¹å¯†åº¦ï¼Œå€¼è¶Šå°å›¾è¡¨è¶Šç²¾ç»†" 
                                       FontSize="12"
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>
                        <TextBlock x:Name="ChartIntervalText" 
                                   Grid.Column="1" 
                                   Text="5åˆ†é’Ÿ" 
                                   VerticalAlignment="Center"
                                   FontWeight="SemiBold"/>
                        
                        <Slider x:Name="ChartIntervalSlider"
                                Grid.Row="1" Grid.ColumnSpan="2"
                                Minimum="1" Maximum="15" Value="5"
                                TickFrequency="1" TickPlacement="BottomRight"
                                ValueChanged="ChartIntervalSlider_ValueChanged"
                                Margin="0,8,0,0"/>
                    </Grid>
                </StackPanel>
            </Border>
            
            <!-- ========== å…³äºŽ ========== -->
            <TextBlock Text="å…³äºŽ" FontSize="20" FontWeight="SemiBold"/>
            
            <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1" CornerRadius="8" Padding="20">
                <StackPanel Spacing="8">
                    <TextBlock>
                        <Run Text="Limit"/>
                        <Run Text=" v3.0" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </TextBlock>
                    <TextBlock Text="ä¸€æ¬¾æ™ºèƒ½æŠ¤çœ¼ä¸Žç”Ÿäº§åŠ›å·¥å…·" 
                               FontSize="12"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    
                    <HyperlinkButton Content="åœ¨ GitHub ä¸ŠæŸ¥çœ‹æºä»£ç " 
                                     Margin="0,8,0,0"/>
                </StackPanel>
            </Border>

            <!-- ä¿å­˜å’Œæ¢å¤æŒ‰é’® -->
            <Grid Margin="0,16,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <Button Grid.Column="0"
                        Content="æ¢å¤æ‰€æœ‰é»˜è®¤è®¾ç½®" 
                        Click="ResetAllSettings_Click"
                        ToolTipService.ToolTip="é‡ç½®æ‰€æœ‰è§„åˆ™è®¾ç½®ä¸ºé»˜è®¤å€¼"/>
                
                <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="12">
                    <TextBlock x:Name="SaveStatusText" Text="" VerticalAlignment="Center" Foreground="Green"/>
                    <Button x:Name="SaveButton" Content="ä¿å­˜è®¾ç½®" Style="{StaticResource AccentButtonStyle}" 
                            Click="SaveButton_Click" MinWidth="120"/>
                </StackPanel>
            </Grid>

        </StackPanel>
    </ScrollViewer>
</Page>
