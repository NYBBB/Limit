<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="EyeGuard.UI.Views.BreakOverlayWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="ä¼‘æ¯æé†’">

    <Grid x:Name="RootGrid">
        <!-- åŠé€æ˜ŽèƒŒæ™¯ -->
        <Grid.Background>
            <SolidColorBrush Color="#E6000000"/>
        </Grid.Background>
        
        <!-- Phase 5: Overlay 3.0 ä¸­å¤®å†…å®¹åŒº -->
        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="24" MaxWidth="500">
            
            <!-- å¤§å›¾æ ‡ -->
            <FontIcon Glyph="&#xE9CE;" FontSize="72" Foreground="#8A2BE2"
                      HorizontalAlignment="Center"/>
            
            <!-- ä¸»æ ‡é¢˜ï¼šDiminishing Returns -->
            <TextBlock x:Name="TitleText" 
                       Text="Diminishing Returns" 
                       FontSize="42" FontWeight="Bold"
                       Foreground="White"
                       HorizontalAlignment="Center"/>
            
            <!-- å‰¯æ ‡é¢˜ -->
            <TextBlock x:Name="SubtitleText"
                       Text="ç»§ç»­å·¥ä½œçš„æ•ˆçŽ‡æ­£åœ¨æ€¥å‰§ä¸‹é™"
                       FontSize="18"
                       Foreground="#AAAAAA"
                       HorizontalAlignment="Center"
                       TextWrapping="Wrap"
                       TextAlignment="Center"/>
            
            <!-- ç§‘å­¦è¯´æ˜Ž -->
            <Border Background="#22FFFFFF" CornerRadius="12" Padding="20,16" Margin="0,8,0,0">
                <TextBlock Text="ðŸ“Š ç ”ç©¶è¡¨æ˜Žï¼ŒæŒç»­é«˜å¼ºåº¦å·¥ä½œåŽï¼Œè®¤çŸ¥èƒ½åŠ›å’Œåˆ›é€ åŠ›ä¼šæ˜¾è‘—ä¸‹é™ã€‚çŸ­æš‚ä¼‘æ¯å¯ä»¥å¸®åŠ©æ¢å¤ä¸“æ³¨åŠ›ï¼Œæé«˜æ•´ä½“å·¥ä½œæ•ˆçŽ‡ã€‚"
                           FontSize="14"
                           Foreground="#CCCCCC"
                           TextWrapping="Wrap"
                           TextAlignment="Center"/>
            </Border>
            
            <!-- ç–²åŠ³å€¼æ˜¾ç¤º -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="16" Margin="0,8,0,0">
                <TextBlock Text="å½“å‰ç–²åŠ³åº¦:"
                           FontSize="16"
                           Foreground="#888888"
                           VerticalAlignment="Center"/>
                <ProgressBar x:Name="FatigueProgressBar"
                             Value="80" Maximum="100"
                             Width="180" Height="8"
                             VerticalAlignment="Center"
                             Foreground="#F44336"/>
                <TextBlock x:Name="FatigueText"
                           Text="80%"
                           FontSize="16"
                           Foreground="#F44336"
                           FontWeight="SemiBold"
                           VerticalAlignment="Center"/>
            </StackPanel>
            
            <!-- Phase 5: æ–°æŒ‰é’®åŒº (Step Away / I Must Finish) -->
            <StackPanel Orientation="Horizontal" 
                        HorizontalAlignment="Center" 
                        Spacing="20"
                        Margin="0,24,0,0">
                
                <!-- Step Away ä¸»æŒ‰é’® -->
                <Button x:Name="StartBreakButton" 
                        Content="ðŸš¶ Step Away"
                        Click="StartBreakButton_Click"
                        MinWidth="160" MinHeight="48"
                        FontSize="16"
                        Style="{StaticResource AccentButtonStyle}"/>
                
                <!-- I Must Finish é•¿æŒ‰æŒ‰é’® -->
                <Button x:Name="SkipButton" 
                        Content="I Must Finish (é•¿æŒ‰ 3 ç§’)"
                        MinWidth="180" MinHeight="48"
                        FontSize="14"
                        Background="Transparent"
                        BorderBrush="#666666"
                        Foreground="#888888"
                        PointerPressed="SkipButton_PointerPressed"
                        PointerReleased="SkipButton_PointerReleased"
                        PointerExited="SkipButton_PointerExited"/>
            </StackPanel>
            
            <!-- é•¿æŒ‰è¿›åº¦æç¤º -->
            <StackPanel x:Name="HoldProgressPanel" Visibility="Collapsed" HorizontalAlignment="Center">
                <ProgressBar x:Name="HoldProgressBar" 
                             Value="0" Maximum="100"
                             Width="180" Height="4"
                             Foreground="#FF8C00"/>
                <TextBlock x:Name="HoldStatusText"
                           Text="ç»§ç»­æŒ‰ä½..."
                           FontSize="12"
                           Foreground="#888888"
                           HorizontalAlignment="Center"
                           Margin="0,4,0,0"/>
            </StackPanel>
            
            <!-- å€’è®¡æ—¶ (ä»…åœ¨ä¼‘æ¯æ¨¡å¼æ˜¾ç¤º) -->
            <StackPanel x:Name="CountdownPanel" Visibility="Collapsed" 
                        Orientation="Horizontal" HorizontalAlignment="Center" Spacing="8">
                <TextBlock Text="ä¼‘æ¯å‰©ä½™"
                           FontSize="18"
                           Foreground="#888888"
                           VerticalAlignment="Center"/>
                <TextBlock x:Name="CountdownText"
                           Text="5:00"
                           FontSize="48" FontWeight="Light"
                           Foreground="#8A2BE2"
                           VerticalAlignment="Center"/>
            </StackPanel>
            
            <!-- çŠ¶æ€/æç¤ºæ–‡æœ¬ -->
            <TextBlock x:Name="TipText"
                       Text=""
                       FontSize="13"
                       Foreground="#666666"
                       HorizontalAlignment="Center"
                       TextWrapping="Wrap"
                       TextAlignment="Center"/>
        </StackPanel>
        
        <!-- å³ä¸Šè§’å…³é—­æŒ‰é’® -->
        <Button x:Name="CloseButton"
                Click="CloseButton_Click"
                HorizontalAlignment="Right" VerticalAlignment="Top"
                Margin="24"
                Background="Transparent"
                BorderThickness="0">
            <FontIcon Glyph="&#xE711;" FontSize="20" Foreground="#666666"/>
        </Button>
    </Grid>
</Window>
