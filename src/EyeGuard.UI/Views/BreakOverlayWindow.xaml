<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="EyeGuard.UI.Views.BreakOverlayWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="休息提醒">

    <Grid x:Name="RootGrid">
        <!-- 半透明背景 -->
        <Grid.Background>
            <SolidColorBrush Color="#E6000000"/>
        </Grid.Background>
        
        <!-- 中央内容区 -->
        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="32">
            
            <!-- 大图标 -->
            <FontIcon Glyph="&#xE9CE;" FontSize="80" Foreground="#8A2BE2"
                      HorizontalAlignment="Center"/>
            
            <!-- 标题 -->
            <TextBlock x:Name="TitleText" 
                       Text="该休息了！" 
                       FontSize="48" FontWeight="Bold"
                       Foreground="White"
                       HorizontalAlignment="Center"/>
            
            <!-- 副标题/建议 -->
            <TextBlock x:Name="SubtitleText"
                       Text="您的眼睛需要休息一下"
                       FontSize="20"
                       Foreground="#AAAAAA"
                       HorizontalAlignment="Center"/>
            
            <!-- 状态文本 -->
            <TextBlock x:Name="StatusText"
                       Text=""
                       FontSize="16"
                       Foreground="#8A2BE2"
                       HorizontalAlignment="Center"
                       Margin="0,8,0,0"/>
            
            <!-- 提示文本 -->
            <TextBlock x:Name="TipText"
                       Text=""
                       FontSize="14"
                       Foreground="#888888"
                       HorizontalAlignment="Center"/>
            
            <!-- 倒计时显示 -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="8" Margin="0,16,0,0">
                <TextBlock Text="剩余时间"
                           FontSize="20"
                           Foreground="#888888"
                           VerticalAlignment="Center"/>
                <TextBlock x:Name="CountdownText"
                           Text="5:00"
                           FontSize="56" FontWeight="Light"
                           Foreground="#8A2BE2"
                           VerticalAlignment="Center"/>
            </StackPanel>
            
            <!-- 疲劳值显示 -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="16">
                <TextBlock Text="当前疲劳度:"
                           FontSize="16"
                           Foreground="#888888"
                           VerticalAlignment="Center"/>
                <ProgressBar x:Name="FatigueProgressBar"
                             Value="80" Maximum="100"
                             Width="200" Height="8"
                             VerticalAlignment="Center"/>
                <TextBlock x:Name="FatigueText"
                           Text="80%"
                           FontSize="16"
                           Foreground="#8A2BE2"
                           VerticalAlignment="Center"/>
            </StackPanel>
            
            <!-- 按钮区 -->
            <StackPanel Orientation="Horizontal" 
                        HorizontalAlignment="Center" 
                        Spacing="24"
                        Margin="0,32,0,0">
                
                <!-- 跳过按钮 -->
                <Button x:Name="SkipButton" 
                        Content="跳过 (Skip)"
                        Click="SkipButton_Click"
                        MinWidth="140" MinHeight="44"
                        Background="Transparent"
                        BorderBrush="#666666"
                        Foreground="#AAAAAA"/>
                
                <!-- 推迟按钮 -->
                <Button x:Name="SnoozeButton" 
                        Content="推迟 5 分钟"
                        Click="SnoozeButton_Click"
                        MinWidth="140" MinHeight="44"
                        Background="Transparent"
                        BorderBrush="#8A2BE2"
                        Foreground="#8A2BE2"/>
                
                <!-- 开始休息按钮 -->
                <Button x:Name="StartBreakButton" 
                        Content="开始休息"
                        Click="StartBreakButton_Click"
                        MinWidth="140" MinHeight="44"
                        Style="{StaticResource AccentButtonStyle}"/>
            </StackPanel>
            
            <!-- 提示文字 -->
            <TextBlock Text="按 Esc 键可关闭此窗口"
                       FontSize="12"
                       Foreground="#555555"
                       HorizontalAlignment="Center"
                       Margin="0,24,0,0"/>
        </StackPanel>
        
        <!-- 右上角关闭按钮 -->
        <Button x:Name="CloseButton"
                Click="CloseButton_Click"
                HorizontalAlignment="Right" VerticalAlignment="Top"
                Margin="24"
                Background="Transparent"
                BorderThickness="0">
            <FontIcon Glyph="&#xE711;" FontSize="20" Foreground="#666666"/>
        </Button>
    </Grid>
</Window>
