<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="EyeGuard.UI.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:EyeGuard.UI"
    xmlns:tb="using:H.NotifyIcon"
    Title="EyeGuard">

    <Grid>
        <!-- 系统托盘图标 -->
        <tb:TaskbarIcon x:Name="TrayIcon"
                        IconSource="/Assets/icon.ico"
                        ToolTipText="EyeGuard - 智能疲劳监控"
                        LeftClickCommand="{x:Bind ShowWindowCommand}">
            <tb:TaskbarIcon.ContextFlyout>
                <MenuFlyout>
                    <MenuFlyoutItem Text="显示主窗口" Click="ShowWindow_Click"/>
                    <MenuFlyoutSeparator/>
                    <MenuFlyoutItem Text="开始监测" Click="StartMonitoring_Click"/>
                    <MenuFlyoutItem Text="暂停监测" Click="StopMonitoring_Click"/>
                    <MenuFlyoutSeparator/>
                    <MenuFlyoutItem Text="退出" Click="ExitApp_Click"/>
                </MenuFlyout>
            </tb:TaskbarIcon.ContextFlyout>
        </tb:TaskbarIcon>

        <!-- WebView2 全屏显示 -->
        <Frame x:Name="ContentFrame"/>
    </Grid>
</Window>
