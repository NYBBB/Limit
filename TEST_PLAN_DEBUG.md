# Debug 功能测试方案

## 1. 开启 Debug 面板

目前 Debug 面板默认为隐藏状态。
**临时开启方法**: 
在 `DashboardViewModel3.cs` 的构造函数中，将 `ShowDebugPanel` 默认值设为 `true`，或者寻找现有的隐藏触发机制（通常是点击 Logo 或标题多次）。

（建议：可在 Zone A 的标题栏添加双击事件来切换显示）

## 2. 功能验证清单

### A. 通知系统测试

| 测试项 | 操作 | 预期结果 |
|-------|------|----------|
| **常规通知 (Info)** | 点击 "常规通知" 按钮 | 系统弹出 Toast 通知："EyeGuard 提示 - 这是一个信息通知测试" |
| **干预提醒 (Warning)** | 点击 "干预提醒" 按钮 | 系统弹出带有操作按钮（休息一下/稍后）的通知，内容显示当前疲劳值 |
| **休息任务 (Break)** | 点击 "休息任务" 按钮 | 系统弹出 "该休息了" 通知，并建议 "眼球运动操 - 30秒" |

> **注意**: 确保 Windows 系统设置中允许本应用发送通知，且 "专注助手" (Focus Assist) 未拦截通知。

### B. 疲劳值动态模拟

| 测试项 | 操作 | 预期结果 |
|-------|------|----------|
| **拖动滑块 (0-100)** | 左右拖动 "模拟疲劳值" 滑块 | 1. Zone A 大圆环进度实时变化<br>2. 颜色根据数值变化 (绿->黄->橙->红)<br>3. 左上角状态文字变化 (精力充沛 -> ... -> 严重透支) |
| **低疲劳 (0-30)** | 滑动到 < 30 | 圆环为绿色，状态显示 "精力充沛" |
| **中疲劳 (30-60)** | 滑动到 30-60 | 圆环变为黄色，状态显示 "略感疲劳" |
| **高疲劳 (60-85)** | 滑动到 60-85 | 圆环变为橙色，状态显示 "比较疲劳" |
| **极限疲劳 (>85)** | 滑动到 > 85 | 圆环变为红色，状态显示 "严重透支" |

### C. 复合场景测试

| 场景 | 操作步骤 | 预期结果 |
|-----|----------|----------|
| **Eco 模式下的动画** | 1. 拔掉电源进入 Eco 模式<br>2. 拖动疲劳值滑块 | 疲劳值数值更新，但呼吸动画应保持静止（省电策略生效） |
| **专注模式下的疲劳** | 1. 开启专注模式 (双环)<br>2. 拖动疲劳值滑块 | 只有内环（实线）变化，外环（倒计时虚线）保持不变 |

## 3. 故障排除

- **点击通知无反应**: 检查 `ToastNotificationService` 中的 `OnNotificationInvoked` 回调是否实现。
- **滑块不更新**: 确认 `DebugFatigueValue` 绑定模式为 `TwoWay`。
- **通知未显示**: 确认应用已在开始菜单注册（Toast 需要快捷方式），或检查 `AppNotificationManager.Register()` 是否成功调用。
